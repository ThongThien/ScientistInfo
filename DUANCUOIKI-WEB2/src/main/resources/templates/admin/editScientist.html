<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Danh sách Nhà khoa học</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<header th:replace="~{layout :: header}"></header>
<nav th:replace="~{layout :: menu}"></nav>

<div class="container mt-5">
	<div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
	<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <h2 class="mb-4">Sửa nhà khoa học</h2>
    <form th:action="@{/admin/edit/save}" th:object="${scientist}" method="post" enctype="multipart/form-data" class="row g-3">

        <div class="col-md-6">
            <label class="form-label">Họ tên</label>
            <input type="text" class="form-control" th:field="*{fullName}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" th:field="*{email}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Giới tính</label>
            <select class="form-select" th:field="*{gender}">
                <option value="Nam">Nam</option>
                <option value="Nữ">Nữ</option>
            </select>
        </div>

        <div class="col-md-6">
            <label class="form-label">Năm sinh</label>
            <input type="number" class="form-control" th:field="*{birthYear}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Địa chỉ</label>
            <input type="text" class="form-control" th:field="*{address}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Ảnh (Upload)</label>
            <input type="file" class="form-control" th:field="*{imageUrl}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">SĐT</label>
            <input type="text" class="form-control" th:field="*{phone}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Chuyên ngành</label>
            <input type="text" class="form-control" th:field="*{major}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Chuyên ngành phụ</label>
            <input type="text" class="form-control" th:field="*{subMajor}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Chuyên môn giảng dạy</label>
            <input type="text" class="form-control" th:field="*{teachingSpecialty}" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Học vị</label>
            <select class="form-select select-state" th:field="*{degree}" placeholder="Chọn bằng cấp" autocomplete="off">
                <option value="1">Tiến sĩ khoa học</option>
                <option value="2">Sau tiến sĩ</option>
                <option value="3">Tiến sĩ</option>
                <option value="4">Chuyên khoa 2</option>
                <option value="5">Thạc sĩ</option>
                <option value="6">Chuyên khoa 1</option>
                <option value="7">Đại học</option>
                <option value="8">Cử nhân</option>
                <option value="9">Bác sĩ</option>
                <option value="10">Dược sĩ</option>
                <option value="11">Kỹ sư</option>
                <option value="12">Cao đẳng</option>
                <option value="13">Trung cấp</option>
                <option value="14">Khác</option>
            </select>
        </div>

		<div class="col-md-6">
		    <label class="form-label">Ngạch</label>
		    <select class="form-select select-state" th:field="*{rank}" placeholder="Chọn ngạch" autocomplete="off">
		        <option value="1">Trợ lý nghiên cứu</option>
		        <option value="2">Chuyên viên</option>
		        <option value="3">Chuyên viên chính</option>
		        <option value="4">Kỹ thuật viên</option>
		        <option value="5">Kỹ thuật viên chính</option>
		        <option value="6">Nghiên cứu viên</option>
		        <option value="7">Giảng viên</option>
		        <option value="8">Giảng viên chính</option>
		        <option value="9">Giảng viên cao cấp</option>
		        <option value="10">Nghiên cứu viên cao cấp</option>
		    </select>
		</div>

        <div class="col-md-6">
            <label class="form-label">Chức danh</label>
            <select class="form-select select-state" th:field="*{title}"  placeholder="Chọn chức danh" autocomplete="off">
                <option value="1">Giáo sư danh dự</option>
                <option value="2">Giáo sư</option>
                <option value="3">Phó giáo sư</option>
            </select>
        </div>

        <div class="col-md-6">
            <label class="form-label">Lĩnh vực nghiên cứu</label>
            <select class="form-select select-state" th:field="*{researchField}"  placeholder="Chọn lĩnh vực" autocomplete="off">
                <option value="1">Công nghệ thông tin</option>
                <option value="2">Khoa học máy tính</option>
                <option value="3">Kỹ thuật phần mềm</option>
                <option value="4">Khoa học dữ liệu</option>
                <option value="5">Trí tuệ nhân tạo</option>
                <option value="6">Thị giác máy tính</option>
                <option value="7">Xử lý ngôn ngữ tự nhiên</option>
                <option value="8">An toàn thông tin</option>
                <option value="9">Internet of Things (IoT)</option>
                <option value="10">Hệ thống thông tin</option>
            </select>
        </div>

		<div class="col-md-6">
		    <label class="form-label">Đơn vị công tác</label>
		    <select class="form-select select-state" th:field="*{organization}"  placeholder="Chọn đơn vị" autocomplete="off">
		        <option value="1">Đại học Quốc gia Hà Nội</option>
		        <option value="2">Đại học Bách Khoa TP. Hồ Chí Minh</option>
		        <option value="3">Trường Đại học Đà Lạt</option>
		        <option value="4">Trường Đại học Tây Nguyên</option>
		        <option value="5">Trường Đại học Quy Nhơn</option>
		    </select>
		</div>
		
		<div class="col-md-6">
		    <label class="form-label">Trình độ ngoại ngữ</label>
		    <select class="form-select select-state" th:field="*{languageLevel}"  placeholder="Chọn trình độ" autocomplete="off">
		        <option value="1">Sơ cấp</option>
		        <option value="2">Trung cấp</option>
		        <option value="3">Cao cấp</option>
		        <option value="4">Chuyên gia</option>
		        <option value="5">Thành thạo</option>
		    </select>
		</div>

        <div class="col-12">
            <button type="submit" class="btn btn-primary">Sửa thông tin</button>
        </div>
    </form>
	
	<div class="mb-5">
	    <div class="d-flex justify-content-between align-items-center mb-3">
	        <h5 class="mb-0">Quá trình công tác</h5>
			<a th:href="@{'/admin/edit/work/new'(scientistId=${scientist.id})}" class="btn btn-success btn-sm">Thêm công tác</a>
	    </div>
	    <div class="table-responsive">
	        <table class="table table-bordered table-sm table-hover table-striped align-middle w-100">
	            <thead>
	                <tr>
	                    <th>Thời gian bắt đầu</th>
	                    <th>Thời gian kết thúc</th>
	                    <th>Chức danh</th>
	                    <th>Đơn vị</th>
	                    <th>Chức vụ</th>
	                    <th>Hành động</th>
	                </tr>
	            </thead>
	            <tbody>
	                <tr th:each="wh : ${workHistories}">
	                    <td th:text="${wh.startDate}"></td>
	                    <td th:text="${wh.endDate}"></td>
	                    <td th:text="${wh.title}"></td>
	                    <td th:text="${wh.organization}"></td>
	                    <td th:text="${wh.position}"></td>
	                    <td>
	                        <div class="d-flex gap-2">
	                            <a th:href="@{'/admin/edit/work/' + ${wh.id}}" class="btn btn-sm btn-primary">Sửa</a>
	                            <form th:action="@{/admin/delete/work/{id}(id=${wh.id})}" method="post"
	                                  onsubmit="return confirm('Bạn có chắc muốn xóa công tác này?');">
	                                <button type="submit" class="btn btn-danger btn-sm">Xóa</button>
	                            </form>
	                        </div>
	                    </td>
	                </tr>
	            </tbody>
	        </table>
	    </div>
	</div>
	<div class="mb-5">
	    <div class="d-flex justify-content-between align-items-center mb-3">
	        <h5 class="mb-0">Quá trình đào tạo</h5>
	        <a th:href="@{'/admin/edit/education/new'(scientistId=${scientist.id})}" class="btn btn-success btn-sm">Thêm đào tạo</a>
	    </div>
	    <div class="table-responsive">
	        <table class="table table-bordered table-sm table-hover table-striped align-middle w-100">
	            <thead>
	                <tr>
	                    <th>Trình độ</th>
	                    <th>Cơ sở đào tạo</th>
	                    <th>Ngành học</th>
	                    <th>Năm tốt nghiệp</th>
	                    <th>Hành động</th>
	                </tr>
	            </thead>
	            <tbody>
	                <tr th:each="ed : ${educationHistories}">
	                    <td th:text="${ed.level}"></td>
	                    <td th:text="${ed.institution}"></td>
	                    <td th:text="${ed.major}"></td>
	                    <td th:text="${ed.graduationYear}"></td>
						<td>
						    <div class="d-flex gap-2">
						        <a th:href="@{'/admin/edit/education/' + ${ed.id}}" class="btn btn-sm btn-primary">Sửa</a>
						        <form th:action="@{/admin/delete/education/{id}(id=${ed.id})}" method="post"
						              onsubmit="return confirm('Bạn có chắc muốn xóa?');">
						            <button type="submit" class="btn btn-danger btn-sm">Xóa</button>
						        </form>
						    </div>
						</td>
	                </tr>
	            </tbody>
	        </table>
	    </div>
	</div>	    
</div>

<footer th:replace="~{layout :: footer}"></footer>

<!-- JS Libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
